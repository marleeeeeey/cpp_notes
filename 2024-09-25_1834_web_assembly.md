# С++ for Web

### WebAssembly(Emscripten) работает через Chromium, node.js, Electron

Electron это инструент для разработки десктоп-приложений на веб-технологиях. Он на самом деле просто дает возможнось из node.js создавать окна приложения, которые выполняются в браузере chromium, а ещё реализует API, позволяющий брузерному окну и node.js как-то общаться между собой. У браузера нет прямого доступа ни к чему на компьютере пользователя, зато такой доступ есть у node.js, поэтому в случае с Electron брузер может через node.js получать такой доступ (например к файловой системе).
Без Electron мы теряем доступ к node.js и приходится полагаться только на то, что доступно в браузере, например IndexedDB для сохранения файлов.
WebAssembly можно выполнить и в обычном брузере, и в Electron. У него есть доступ к JS — он может какие-то функции вызывать (и наоборот JS может вызывать функции из wasm). Упрощая, можно сказать, у wasm в браузере есть все те же возможности, которые есть и у JS, но используя другой язык. Emscripten, который мы используем для сборки C++, берет на себя реализацию некоторых возможностей так, чтобы не приходилось значительно изменять код. По сути он заточен для портирования C/C++ приложений в браузер, поэтому он реализует свою файловую систему, pthreads, поддержку графики и тд

- **Node.js** имеет доступ к файловой системе потому, что он выполняется вне браузерной среды и имеет больше привилегий как серверная платформа.
- В **Electron** можно использовать
  - **Node.js** для доступа к **системным ресурсам**, а
  - браузерное окно (на основе **Chromium**) используется для отображения **интерфейса**, выполняя код в изолированной среде.
